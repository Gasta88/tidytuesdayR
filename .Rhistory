fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
main_plot <- grid.arrange(p1,p2,p3,p4, nrow=2)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=1000, main_plot)
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title.position ="left",
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
main_plot <- grid.arrange(p1,p2,p3,p4, nrow=2)
ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 8),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
main_plot <- grid.arrange(p1,p2,p3,p4, nrow=2)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=1000, main_plot)
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
lay <- rbind(c(1,1,1,1,1,1),
c(1,1,1,1,1,1),
c(2,2,3,3,4,4),
c(2,2,3,3,4,4))
main_plot <- grid.arrange(p1,p2,p3,p4, layout_matrix=lay)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggplot2)
library(countrycode)
library(viridis)
library(hrbrthemes)
library(ggridges)
library(rnaturalearth)
library(gridExtra)
tt <- tt_load("2018-06-26")
tt %>%
map(glimpse)
df <- tt$week13_alcohol_global
df$continent <- countrycode(sourcevar = df[["country"]],
origin = "country.name",
destination = "continent")
df <- within(df, continent[country == 'Micronesia'] <- 'Oceania')
df2 <- df %>%
select(- total_litres_of_pure_alcohol) %>%
filter(continent == "Europe") %>%
# filter(country=="France")%>%
arrange(country)%>%
rename(geounit=country) %>%
select (- continent)
df2[df2$geounit == 'Bosnia-Herzegovina', "geounit" ] <-'Bosnia and Herzegovina'
europe <- rnaturalearth::ne_countries(
continent = "Europe",
returnclass = "sf"
)
df3 <- right_join(europe, df2, by="geounit")
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
lay <- rbind(c(1,1,1,1,1,1),
c(1,1,1,1,1,1),
c(2,2,3,3,4,4),
c(2,2,3,3,4,4))
main_plot <- grid.arrange(p1,p2,p3,p4, layout_matrix=lay)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=1000, main_plot)
ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()
lay <- rbind(c(1,1,1,1,1,1),
c(1,1,1,1,1,1),
c(2,2,3,3,4,4),
c(2,2,3,3,4,4))
main_plot <- grid.arrange(p1,p2,p3,p4, layout_matrix=lay)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=1000, main_plot)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=900, main_plot)
?grid.arrange
library(patchwork)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggplot2)
library(countrycode)
library(viridis)
library(hrbrthemes)
library(ggridges)
library(rnaturalearth)
library(patchwork)
main_plot <- p1 / (p2 + p3 + p4)
p1 / (p2 + p3 + p4) & theme(legend.position = "bottom")
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=900, main_plot)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggplot2)
library(countrycode)
library(viridis)
library(hrbrthemes)
library(ggridges)
library(rnaturalearth)
library(patchwork)
tt <- tt_load("2018-06-26")
tt %>%
map(glimpse)
df <- tt$week13_alcohol_global
df$continent <- countrycode(sourcevar = df[["country"]],
origin = "country.name",
destination = "continent")
df <- within(df, continent[country == 'Micronesia'] <- 'Oceania')
df2 <- df %>%
select(- total_litres_of_pure_alcohol) %>%
filter(continent == "Europe") %>%
# filter(country=="France")%>%
arrange(country)%>%
rename(geounit=country) %>%
select (- continent)
df2[df2$geounit == 'Bosnia-Herzegovina', "geounit" ] <-'Bosnia and Herzegovina'
europe <- rnaturalearth::ne_countries(
continent = "Europe",
returnclass = "sf"
)
df3 <- right_join(europe, df2, by="geounit")
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
main_plot <- p1 / (p2 + p3 + p4) & theme(legend.position = "bottom")
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png", dpi=900, main_plot)
p1 <- ggplot(df, aes(x = total_litres_of_pure_alcohol, y = continent, fill = ..x..)) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis(name = "Total Consumption [L]", option = "B") +
labs(title = 'World consumption', x = "Total liters of pure alcohol consumed", y = "Continent") +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(hjust = 0, size = 12),
panel.spacing = unit(0.1, "lines"),
strip.text.x = element_text(size = 6),
strip.text.y = element_text(size = 6)
)
p2 <- ggplot(df3, aes(fill = beer_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Beer serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p3 <- ggplot(df3, aes(fill = spirit_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Spirit serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
p4 <- ggplot(df3, aes(fill = wine_servings)) +
geom_sf() +
coord_sf(xlim = c(-23, 40), ylim = c(30,82)) +
scale_fill_viridis_c(alpha = 0.75) +
labs(
title = "Wine serving in Europe",
fill=NULL
) +
theme_bw()+
theme(
legend.position="none")
main_plot <- p1 / (p2 + p3 + p4) & theme(legend.position = "bottom")
main_plot + plot_layout(guides = "collect")
