group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
# filter(country=="Italy")
filter(country=="United Kingdom")
View(deaths_df)
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_abline(avg_value) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggrepel)
library(ggplot2)
tt <- tt_load("2018-04-16")
tt %>%
map(glimpse)
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
# filter(country=="Italy")
filter(country=="United Kingdom")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_abline(avg_value) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
# geom_abline(avg_value) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
View(deaths_df)
View(data)
View(deaths_df)
?shape
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
geom_point(aes(y=avg_value, colour="avg_value", shape=15)) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggrepel)
library(ggplot2)
tt <- tt_load("2018-04-16")
tt %>%
map(glimpse)
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
# filter(country=="Italy")
filter(country=="United Kingdom")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
#geom_point(aes(y=avg_value, colour="avg_value", shape=15)) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
#p + facet_wrap(vars(country), ncol=5)
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value")) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
geom_point(aes(y=avg_value, colour="avg_value")) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause), size=5)) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause), size=2)) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause), size=0.2)) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="causalties percentage", col="high/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="causalties percentage", col="high/avg/low", shape="max/min causes")
ggplot(data = deaths_df, aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value", linetype="twodash")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", linetype=NULL)
deaths_df["Italy"]
ggplot(data = deaths_df[deaths_df$country == country], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
# filter(country=="Italy")
# filter(country=="United Kingdom")
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value))
# filter(country=="Italy")
# filter(country=="United Kingdom")
country <- "United Kingdom"
ggplot(data = deaths_df[deaths_df$country == country], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
deaths_df[deaths_df$country == country]
deaths_df$country == country
ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
country <- "United Kingdom"
L <- deaths_df$country == country
ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
plotly
p <- ggplot(data = filter(maindata, country == countries[i]), aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
plot_by_country <- function(x=deaths_df){
countries <- unique(x$country)
for (i in seq_along(countries)){
p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
print(p)
}
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(ggrepel)
library(ggplot2)
tt <- tt_load("2018-04-16")
tt %>%
map(glimpse)
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value))
# filter(country=="Italy")
# filter(country=="United Kingdom")
# country <- "United Kingdom"
# L <- deaths_df$country == country
# plot_by_country <- function(country){
#   p <- ggplot(data = deaths_df[L,], aes(year)) +
#         geom_line(aes(y=min_value, colour="min_value", )) +
#         geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#         geom_line(aes(y=max_value, colour="max_value")) +
#         geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#         geom_line(aes(y=avg_value, colour="avg_value")) +
#         labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
#   return(p)
# }
plot_by_country <- function(x=deaths_df){
countries <- unique(x$country)
for (i in seq_along(countries)){
p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes")
print(p)
}
}
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png")
plot_by_country()
# This will save your most recent plot
ggsave(
filename = "My TidyTuesday Plot.png",
device = "png")
country <- "United Kingdom"
L <- deaths_df$country == country
plot_by_country <- function(country){
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
return(p)
}
print(p)
country <- "United Kingdom"
L <- deaths_df$country == country
plot_by_country <- function(country){
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
print(p)
}
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value))
# filter(country=="Italy")
# filter(country=="United Kingdom")
country <- "United Kingdom"
L <- deaths_df$country == country
plot_by_country <- function(country){
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
print(p)
}
# plot_by_country <- function(x=deaths_df){
#   countries <- unique(x$country)
#   for (i in seq_along(countries)){
#     p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
#           geom_line(aes(y=min_value, colour="min_value", )) +
#           geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#           geom_line(aes(y=max_value, colour="max_value")) +
#           geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#           geom_line(aes(y=avg_value, colour="avg_value")) +
#           labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
#     print(p)
#   }
# }
plot_by_country()
# get the difference in percentage and shows the whiskers for variability
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value))
# filter(country=="Italy")
# filter(country=="United Kingdom")
plot_by_country <- function(country){
L <- deaths_df$country == country
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
print(p)
}
plot_by_country(country = "United Kingdom")
# plot_by_country <- function(x=deaths_df){
#   countries <- unique(x$country)
#   for (i in seq_along(countries)){
#     p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
#           geom_line(aes(y=min_value, colour="min_value", )) +
#           geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#           geom_line(aes(y=max_value, colour="max_value")) +
#           geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#           geom_line(aes(y=avg_value, colour="avg_value")) +
#           labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
#     print(p)
#   }
# }
# plot_by_country()
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
filter(country %in% c("Italy", "United Kingdom", "Germany"))
# get the difference in percentage and shows the whiskers for variability
countries_of_interest <- c("Italy", "United Kingdom", "Germany")
deaths_df <- tt$global_mortality %>%
select(-country_code) %>%
mutate_if(is.numeric , replace_na, replace = 0.000) %>%
group_by(country) %>%
pivot_longer(cols=contains("(%)"), names_to="cause") %>%
group_by(country, year) %>%
summarise(max_value=max(value),
max_cause=cause[which.max(value)],
min_value=min(value),
min_cause=cause[which.min(value)],
avg_value=mean(value)) %>%
filter(country %in% countries_of_interest)
plot_by_country <- function(country){
L <- deaths_df$country == country
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
return(p)
}
for (c in seq_along(countries_of_interest)){
plot_by_country(country = countries_of_interest[c])
}
# plot_by_country <- function(x=deaths_df){
#   countries <- unique(x$country)
#   for (i in seq_along(countries)){
#     p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
#           geom_line(aes(y=min_value, colour="min_value", )) +
#           geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#           geom_line(aes(y=max_value, colour="max_value")) +
#           geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#           geom_line(aes(y=avg_value, colour="avg_value")) +
#           labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
#     print(p)
#   }
# }
# plot_by_country()
plot_by_country <- function(country){
L <- deaths_df$country == country
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
return(p)
}
for (c in seq_along(countries_of_interest)){
plot_by_country(country = countries_of_interest[c])
}
# plot_by_country <- function(x=deaths_df){
#   countries <- unique(x$country)
#   for (i in seq_along(countries)){
#     p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
#           geom_line(aes(y=min_value, colour="min_value", )) +
#           geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#           geom_line(aes(y=max_value, colour="max_value")) +
#           geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#           geom_line(aes(y=avg_value, colour="avg_value")) +
#           labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
#     print(p)
#   }
# }
# plot_by_country()
plot_by_country <- function(country){
L <- deaths_df$country == country
p <- ggplot(data = deaths_df[L,], aes(year)) +
geom_line(aes(y=min_value, colour="min_value", )) +
geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
geom_line(aes(y=max_value, colour="max_value")) +
geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
geom_line(aes(y=avg_value, colour="avg_value")) +
labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
p
}
for (c in seq_along(countries_of_interest)){
plot_by_country(country = countries_of_interest[c])
}
# plot_by_country <- function(x=deaths_df){
#   countries <- unique(x$country)
#   for (i in seq_along(countries)){
#     p <- ggplot(data = filter(x, country == countries[i]), aes(year)) +
#           geom_line(aes(y=min_value, colour="min_value", )) +
#           geom_point(aes(y=min_value, , colour="min_value", shape=factor(min_cause))) +
#           geom_line(aes(y=max_value, colour="max_value")) +
#           geom_point(aes(y=max_value, colour="max_value", shape=factor(max_cause))) +
#           geom_line(aes(y=avg_value, colour="avg_value")) +
#           labs(y="casualties percentage", col="high/avg/low", shape="max/min causes", title=unique(country))
#     print(p)
#   }
# }
# plot_by_country()
